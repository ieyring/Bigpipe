/* Bigpipe - version 2.6
   Kenny F. 2013
*/
var BigPipe=function(n){function q(a,c){var e=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},b=a.css.length;return{loadCss:function(){var g=[];console.log("Loading CSS for pagelet "+a.id);(function k(h){setTimeout(function(){var l=a.css[h-1];e(g,l)||p.loadCss(l,function(h,e){h?(g.push(l),g.length==b&&(console.log("Injected content for pagelet "+a.id),c.innerHTML=a.content,c.style.display="block")):console.log("Warning! An error occured during injection of CSS file: "+l)});--h&&
k(h)},10)})(b)}}}var m=[],p=function(){navigator.userAgent.toLowerCase();var a=/opera/i.test(navigator.userAgent);return{loadJs:function(c,e){if(c.match(/js/)&&""!=c){var b=n.createElement("script"),g=document.scripts[0],d=!1;b.async=!0;b.type="text/javascript";a&&this.readyState&&"complete"!=this.readyState||(b.onload=function(){d||(console.log("loaded "+c),d=!0,e&&e())},b.onreadystatechange=function(){d||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(b.onerror=b.onload=
b.onreadystatechange=null,console.log("loaded "+c),d=!0,f&&b.parentNode&&f.removeChild(b))},g.parentNode.insertBefore(b,g),b.src=c)}},loadCss:function(a,e,b){var g=document.getElementsByTagName("head")[0],d=document.createElement("link");d.href=a;d.rel="stylesheet";d.type="text/css";var k,h;"sheet"in d?(k="sheet",h="cssRules"):(k="styleSheet",h="rules");var l=setInterval(function(){try{d[k]&&d[k][h].length&&(clearInterval(l),clearTimeout(m),e.call(b||window,!0,d))}catch(a){}finally{}},10),m=setTimeout(function(){clearInterval(l);
clearTimeout(m);g.removeChild(d);e.call(b||window,!1,d)},15E3);(n.getElementsByTagName("head")[0]||n.getElementsByTagName("body")[0]).appendChild(d);return d}}}();return{OnPageLoad:function(a){try{if(window.console||(console={log:function(){}}),a.css){if("string"==typeof a.id&&(fragment=n.getElementById(a.id.toLowerCase())||""),""!==fragment){console.log("Hide content for pagelet "+a.id);fragment.style.display="none";if(0<a.js.length)for(var c=a.js.length;c--;){var e=m.length;if(0<e)for(var b=e;b--;)e[b]!==
a.js[c]&&m.push(a.js[c]);else m.push(a.js[c])}(new q(a,fragment)).loadCss();a.is_last&&function k(b){setTimeout(function(){console.log("Injecting JS file - "+a.js[b-1]);p.loadJs(a.js[b-1]);--b&&k(b)},10)}(m.length)}}else window.location.href=a.onError}catch(g){window.location.href=a.onError}}}}(document);