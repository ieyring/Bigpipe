/* Bigpipe - version 3.01
   Kenny F. 2013
*/
var BigPipe=function(e){function n(a,f){var g=function(a,d){for(var c=a.length;c--;)if(a[c]===d)return!0;return!1},h=a.css.length;return{loadCss:function(){var b=[];console.log("Loading CSS for pagelet "+a.id);(function c(k){setTimeout(function(){var e=a.css[k-1];g(b,e)||m.loadCss(e,function(c,k){c?(b.push(e),b.length==h&&(console.log("Injected content for pagelet "+a.id),f.innerHTML=a.content,f.style.display="block")):console.log("Warning! An error occured during injection of CSS file: "+e)});--k&&
c(k)},10)})(h)}}}var l=[],m=function(){navigator.userAgent.toLowerCase();var a=/opera/i.test(navigator.userAgent);return{loadJs:function(f,g){if(f.match(/js/)&&""!=f){var h=e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0],b=e.createElement("script"),d=e.scripts[0],c=!1;b.async=!0;b.type="text/javascript";a&&this.readyState&&"complete"!=this.readyState||(b.onload=function(){c||(console.log("loaded "+f),c=!0,g&&g())},b.onreadystatechange=function(){c||this.readyState&&"loaded"!==
this.readyState&&"complete"!==this.readyState||(b.onerror=b.onload=b.onreadystatechange=null,console.log("loaded "+f),c=!0,h&&b.parentNode&&h.removeChild(b))},d.parentNode.insertBefore(b,d),b.src=f)}},loadCss:function(a,g,h){var b=e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0],d=e.createElement("link");d.href=a;d.rel="stylesheet";d.type="text/css";var c,k;"sheet"in d?(c="sheet",k="cssRules"):(c="styleSheet",k="rules");var l=setInterval(function(){try{d[c]&&d[c][k].length&&(clearInterval(l),
clearTimeout(m),g.call(h||window,!0,d))}catch(a){}finally{}},10),m=setTimeout(function(){clearInterval(l);clearTimeout(m);b.removeChild(d);g.call(h||window,!1,d)},15E3);b.appendChild(d);return d}}}();return{OnPageLoad:function(a){try{if(window.console||(console={log:function(){}}),a.css){if("string"==typeof a.id&&(fragment=e.getElementById(a.id.toLowerCase())||""),""!==fragment){console.log("Hide content for pagelet "+a.id);fragment.style.display="none";if(0<a.js.length)for(var f=a.js.length;f--;){var g=
l.length;if(0<g)for(var h=g;h--;)g[h]!==a.js[f]&&l.push(a.js[f]);else l.push(a.js[f])}(new n(a,fragment)).loadCss();a.is_last&&function c(b){setTimeout(function(){console.log("Injecting JS file - "+a.js[b-1]);m.loadJs(a.js[b-1]);--b&&c(b)},10)}(l.length)}}else window.location.href=a.onError}catch(b){window.location.href=a.onError}}}}(document);