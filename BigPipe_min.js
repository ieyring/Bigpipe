/* Bigpipe - version 3.01
   Kenny F. 2013
*/
var BigPipe=function(e){function n(b,f){var g=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},h=b.css.length;return{loadCss:function(){var a=[];console.log("Loading CSS for pagelet "+b.id);(function c(k){setTimeout(function(){var e=b.css[k-1];g(a,e)||m.loadCss(e,function(c,k){c?(a.push(e),a.length==h&&(console.log("Injected content for pagelet "+b.id),f.innerHTML=b.content,f.style.display="block")):console.log("Warning! An error occured during injection of CSS file: "+e)});--k&&
c(k)},10)})(h)}}}var l=[],m=function(){navigator.userAgent.toLowerCase();var b=/opera/i.test(navigator.userAgent);return{loadJs:function(f,g){if(f.match(/js/)&&""!=f){var h=e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0],a=e.createElement("script"),d=e.scripts[0],c=!1;a.async=!0;a.type="text/javascript";a.id="script"+Math.floor(911*Math.random());b&&this.readyState&&"complete"!=this.readyState||(a.onload=function(){c||(console.log("loaded "+f+" - id:"+a.id),c=!0,g&&g())},a.onreadystatechange=
function(){c||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a.onerror=a.onload=a.onreadystatechange=null,console.log("loaded "+f+" - id:"+a.id),c=!0,h&&a.parentNode&&h.removeChild(a))},d.parentNode.insertBefore(a,d),a.src=f)}},loadCss:function(b,g,h){var a=e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0],d=e.createElement("link");d.href=b;d.rel="stylesheet";d.type="text/css";var c,k;"sheet"in d?(c="sheet",k="cssRules"):(c="styleSheet",k="rules");var l=
setInterval(function(){try{d[c]&&d[c][k].length&&(clearInterval(l),clearTimeout(m),g.call(h||window,!0,d))}catch(b){}finally{}},10),m=setTimeout(function(){clearInterval(l);clearTimeout(m);a.removeChild(d);g.call(h||window,!1,d)},15E3);a.appendChild(d);return d}}}();return{OnPageLoad:function(b){try{if(window.console||(console={log:function(){}}),b.css){if("string"==typeof b.id&&(fragment=e.getElementById(b.id.toLowerCase())||""),""!==fragment){console.log("Hide content for pagelet "+b.id);fragment.style.display=
"none";if(0<b.js.length)for(var f=b.js.length;f--;){var g=l.length;if(0<g)for(var h=g;h--;)g[h]!==b.js[f]&&l.push(b.js[f]);else l.push(b.js[f])}(new n(b,fragment)).loadCss();b.is_last&&function c(a){setTimeout(function(){console.log("Injecting JS file - "+b.js[a-1]);m.loadJs(b.js[a-1]);--a&&c(a)},10)}(l.length)}}else window.location.href=b.onError}catch(a){window.location.href=b.onError}}}}(document);