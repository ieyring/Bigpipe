/* Bigpipe - version 3.1
   Kenny F. 2013
*/
var BigPipe=function(e){function n(a,f){var g=function(b,a){for(var c=b.length;c--;)if(b[c]===a)return!0;return!1},h=a.css.length;return{loadCss:function(){var b=[];console.log("Loading CSS for pagelet "+a.id);(function c(l){setTimeout(function(){var e=a.css[l-1];g(b,e)||m.loadCss(e,function(c,l){c?(b.push(e),b.length==h&&(console.log("Injected content for pagelet "+a.id),f.innerHTML=a.content,f.style.display="block")):console.log("Warning! An error occured during injection of CSS file: "+e)});--l&&
c(l)},20)})(h)}}}var k=[],m=function(){navigator.userAgent.toLowerCase();var a=/opera/i.test(navigator.userAgent);return{loadJs:function(f,g){if(f.match(/js/)&&""!=f){var h=e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0],b=e.createElement("script"),d=e.scripts[0],c=!1;b.async=!0;b.type="text/javascript";b.id="script"+Math.floor(911*Math.random());a&&this.readyState&&"complete"!=this.readyState||(b.onload=function(){c||(console.log("loaded "+f+" - id:"+b.id),c=!0,g&&g())},b.onreadystatechange=
function(){c||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(b.onerror=b.onload=b.onreadystatechange=null,console.log("loaded "+f+" - id:"+b.id),c=!0,h&&b.parentNode&&h.removeChild(b))},d.parentNode.insertBefore(b,d),b.src=f)}},loadCss:function(a,g,h){var b=e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0],d=e.createElement("link");d.href=a;d.rel="stylesheet";d.type="text/css";var c,l;"sheet"in d?(c="sheet",l="cssRules"):(c="styleSheet",l="rules");var k=
setInterval(function(){try{d[c]&&d[c][l].length&&(clearInterval(k),clearTimeout(m),g.call(h||window,!0,d))}catch(a){}finally{}},15),m=setTimeout(function(){clearInterval(k);clearTimeout(m);b.removeChild(d);g.call(h||window,!1,d)},1500);b.appendChild(d);return d}}}();return{OnPageLoad:function(a){try{if(window.console||(console={log:function(){}}),a.css){if("string"==typeof a.id&&(fragment=e.getElementById(a.id.toLowerCase())||""),""!==fragment){console.log("Hide content for pagelet "+a.id);fragment.style.display=
"none";if(0<a.js.length)for(var f=a.js.length;f--;){var g=k.length;if(0<g)for(var h=g;h--;)g[h]!==a.js[f]&&k.push(a.js[f]);else k.push(a.js[f])}(new n(a,fragment)).loadCss();a.is_last&&function c(a){setTimeout(function(){m.loadJs(k[a-1],function(){console.log("Injecting JS file - "+k[a-1])});--a&&c(a)},10)}(k.length)}}else window.location.href=a.onError}catch(b){window.location.href=a.onError}}}}(document);